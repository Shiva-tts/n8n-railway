import { GlobalConfig } from '@n8n/config';
import express from 'express';
import { Logger } from 'n8n-core';
import { TaskRunnerAuthController } from '../task-runners/auth/task-runner-auth.controller';
import { TaskRunnerWsServer } from '../task-runners/task-runner-ws-server';
export declare class TaskRunnerServer {
    private readonly logger;
    private readonly globalConfig;
    private readonly taskRunnerAuthController;
    private readonly taskRunnerWsServer;
    private server;
    private wsServer;
    readonly app: express.Application;
    get port(): number;
    private get upgradeEndpoint();
    constructor(logger: Logger, globalConfig: GlobalConfig, taskRunnerAuthController: TaskRunnerAuthController, taskRunnerWsServer: TaskRunnerWsServer);
    start(): Promise<void>;
    stop(): Promise<void>;
    private setupHttpServer;
    private setupWsServer;
    private setupErrorHandlers;
    private setupCommonMiddlewares;
    private configureRoutes;
    private handleUpgradeRequest;
    private getEndpointBasePath;
}
